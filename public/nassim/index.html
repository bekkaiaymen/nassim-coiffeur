ai-stylist.js:542 โจ AI Stylist Module Loaded - Nano Banana Integration Ready
nassim.js:15 ๐ Nassim App initialized
nassim.js:16 ๐ Token: exists
nassim.js:90 ๐ก Loading customer profile...
nassim.js:1642 โ PWA: Service Worker registered successfully
nassim.js:1933 โ AI Floating Icon initialized
nassim.js:1933 โ AI Floating Icon initialized
nassim.js:100 โ Customer data loaded: {pendingPoints: 0, hasSeenFirstBookingOffer: false, hasSeenReturningCustomerOffer: false, _id: '692773d4afc65fe0f574403d', tenant: '69259331651b1babc1eb83dc',ยโฆ}
nassim.js:683 ๐ก [loadAppointments] Response status: 200
nassim.js:685 ๐ก [loadAppointments] API response: {success: true, data: Array(16)}
nassim.js:693 ๐ก [loadAppointments] Appointments array: (16)ย[{โฆ}, {โฆ}, {โฆ}, {โฆ}, {โฆ}, {โฆ}, {โฆ}, {โฆ}, {โฆ}, {โฆ}, {โฆ}, {โฆ}, {โฆ}, {โฆ}, {โฆ}, {โฆ}]
nassim.js:171 โ Loaded services for nassim: {success: true, count: 3, data: Array(3)}
nassim.js:325 โ Loaded employees for nassim: {success: true, count: 2, data: Array(2)}
nassim.js:1081 ๐ Checking first booking offer... {hasSeenFirstBookingOffer: false, customerId: '692773d4afc65fe0f574403d'}
nassim:1 Failed to load service image: https://nassim-coiffeur.onrender.com/uploads/image-1764520060786-587276726.webp
onerror @ nassim:1
nassim.js:1090 ๐ Appointments response: 200
nassim.js:1093 ๐ Appointments data: {success: true, data: Array(16)}
nassim.js:390 โ Loaded posts for nassim: {success: true, data: Array(2)}
nassim.js:513 โ Loaded rewards for nassim: {success: true, data: Array(4)}
nassim.js:1220 ๐ Showing returning customer offer notification (50 points)
nassim.js:1246 โ Returning customer offer notification added to DOM
nassim.js:1252 โ Marked returning customer offer as seen
nassim.js:1293  GET https://nassim-coiffeur.onrender.com/api/notifications 404 (Not Found)
loadNotifications @ nassim.js:1293
(anonymous) @ nassim.js:47
nassim.js:1293  GET https://nassim-coiffeur.onrender.com/api/notifications 404 (Not Found)
loadNotifications @ nassim.js:1293
showNotifications @ nassim.js:1471
onclick @ nassim:50
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#FDB714">
    <meta name="description" content="ุตุงููู nassim - ุงุญุฌุฒ ููุนุฏู ูู ุฃูุถู ุตุงููู ุญูุงูุฉ">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Nassim Coiffeur">
    
    <!-- Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Icons -->
    <link rel="icon" href="/nassim/logo.jpg">
    <link rel="apple-touch-icon" href="/nassim/logo.jpg">
    
    <title>โ๏ธ Nassim Coiffeur - ุตุงููู ุงูุญูุงูุฉ ุงูุฃูู</title>
    <link rel="stylesheet" href="/nassim/nassim.css">
    <link rel="stylesheet" href="/nassim/ai-wassim.css">
    <link rel="stylesheet" href="/nassim/ai-stylist.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
</head>
<body>
    <!-- Splash Screen / Welcome Logo Animation -->
    <div id="splashScreen" class="splash-screen">
        <div class="splash-content">
            <img src="/nassim/logo.jpg" alt="Nassim Coiffeur" class="splash-logo">
            <div class="splash-text">Nassim Coiffeur</div>
            <div class="loading-dots">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </div>

    <!-- Main Home Page -->
    <div id="homePage" style="display: none;">
        <!-- Header -->
        <div class="header">
            <div class="header-content">
                <img src="/nassim/logo.jpg" alt="Nassim Logo" class="header-logo">
                <h1 class="header-title">Nassim Coiffeur</h1>
                <div class="header-actions">
                    <button class="header-icon-btn" onclick="showNotifications()">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="22" height="22">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
                        </svg>
                        <span class="notification-badge"></span>
                    </button>
                    <button class="header-icon-btn" onclick="showNotificationToast('ุชู ุชุฃููุฏ ููุนุฏู! ๐', 'ุชู ุชุฃููุฏ ููุนุฏ ุงูุญูุงูุฉ ุงูููุงุณูููุฉ ูู 10:00 ุตุจุงุญุงู')" title="ุงุฎุชุจุงุฑ ุงูุฅุดุนุงุฑ">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="22" height="22">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
                        </svg>
                        <span style="position: absolute; top: -5px; right: -5px; background: #ff4444; color: white; border-radius: 50%; width: 18px; height: 18px; font-size: 10px; display: flex; align-items: center; justify-content: center;">๐งช</span>
                    </button>
                    <button class="header-icon-btn" onclick="document.getElementById('searchInput').focus()">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="22" height="22">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="search-box">
                <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                </svg>
                <input type="text" class="search-input" placeholder="ุงุจุญุซ ุนู ุฎุฏูุฉ ุฃู ุญูุงู..." id="searchInput">
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Quick Actions -->
            <div class="quick-actions">
                <div class="quick-action" onclick="showCoins()">
                    <div class="quick-action-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                    <span class="quick-action-label">ุงูุนููุงุช</span>
                </div>
                <div class="quick-action" onclick="showBookingHistory()">
                    <div class="quick-action-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                    <span class="quick-action-label">ุญุฌูุฒุงุชู</span>
                </div>
                <div class="quick-action" onclick="showRewards()">
                    <div class="quick-action-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"/>
                        </svg>
                    </div>
                    <span class="quick-action-label">ุงูููุงูุขุช</span>
                </div>
                <div class="quick-action" onclick="showPosts()">
                    <div class="quick-action-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"/>
                        </svg>
                    </div>
                    <span class="quick-action-label">ุงูุฃุฎุจุงุฑ</span>
                </div>
                <div class="quick-action ai-action" onclick="showAIStylist()">
                    <div class="quick-action-icon ai-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                        </svg>
                    </div>
                    <span class="quick-action-label">AI ูุตูู</span>
                </div>
            </div>

            <!-- Loyalty Points Card -->
            <div class="loyalty-card">
                <div class="loyalty-content">
                    <div class="loyalty-icon">โญ</div>
                    <div class="loyalty-info">
                        <div class="loyalty-points" id="loyaltyPoints">0</div>
                        <div class="loyalty-label">ููุงุท ุงูููุงุก</div>
                    </div>
                </div>
                <div class="loyalty-tier">
                    <span id="loyaltyTier">ุจุฑููุฒู</span>
                    <span class="tier-badge">๐ฅ</span>
                </div>
            </div>

            <!-- Specialists -->
            <div class="section-header">
                <h2 class="section-title">ุงูุญูุงููู</h2>
                <button class="see-all-btn" onclick="showAllSpecialists()">ุนุฑุถ ุงููู</button>
            </div>
            
            <div class="specialists-grid" id="specialistsList">
                <!-- Skeleton Loaders -->
                <div class="skeleton-card">
                    <div class="skeleton skeleton-image"></div>
                    <div class="skeleton-content">
                        <div class="skeleton skeleton-title"></div>
                        <div class="skeleton skeleton-text"></div>
                    </div>
                </div>
                <div class="skeleton-card">
                    <div class="skeleton skeleton-image"></div>
                    <div class="skeleton-content">
                        <div class="skeleton skeleton-title"></div>
                        <div class="skeleton skeleton-text"></div>
                    </div>
                </div>
            </div>

            <!-- Services -->
            <div class="section-header">
                <h2 class="section-title">ุงูุฎุฏูุงุช</h2>
                <button class="see-all-btn" onclick="showAllServices()">ุนุฑุถ ุงููู</button>
            </div>

            <div class="services-list" id="servicesList">
                <!-- Services will be loaded here -->
            </div>

            <!-- Latest Posts -->
            <div class="section-header">
                <h2 class="section-title">ุขุฎุฑ ุงูุฃุฎุจุงุฑ</h2>
                <button class="see-all-btn" onclick="showPosts()">ุนุฑุถ ุงููู</button>
            </div>

            <div class="posts-list" id="postsList">
                <!-- Posts will be loaded here -->
            </div>

            <!-- Rewards -->
            <div class="section-header">
                <h2 class="section-title">ุงูููุงูุขุช</h2>
                <button class="see-all-btn" onclick="showRewards()">ุนุฑุถ ุงููู</button>
            </div>

            <div class="rewards-list" id="rewardsList">
                <!-- Rewards will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Posts Page -->
    <div id="postsPage" class="page-container hidden">
        <div class="page-header">
            <button class="back-btn-page" onclick="goBackToHome()">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
            </button>
            <h1 class="page-title">๐ข ุขุฎุฑ ุงูุฃุฎุจุงุฑ</h1>
        </div>

        <div id="allPostsList" class="posts-container">
            <!-- All posts will be loaded here -->
        </div>
    </div>

    <!-- Rewards Page -->
    <div id="rewardsPage" class="page-container hidden">
        <div class="page-header">
            <button class="back-btn-page" onclick="goBackToHome()">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
            </button>
            <h1 class="page-title">๐ ุงูููุงูุขุช</h1>
        </div>

        <!-- User Points -->
        <div class="user-points-card">
            <div class="points-info">
                <div class="points-value" id="userPoints">0</div>
                <div class="points-label">ููุงุทู ุงูุญุงููุฉ</div>
            </div>
            <div class="points-icon">โญ</div>
        </div>

        <div id="allRewardsList" class="rewards-container">
            <!-- All rewards will be loaded here -->
        </div>
    </div>

    <!-- Coins Page -->
    <div id="coinsPage" class="page-container hidden">
        <div class="page-header">
            <button class="back-btn-page" onclick="goBackToHome()">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
            </button>
            <h1 class="page-title">๐ฐ ุงูุนููุงุช</h1>
        </div>

        <!-- User Coins Balance -->
        <div class="coins-balance-card">
            <div class="balance-content">
                <div class="balance-icon">๐ช</div>
                <div class="balance-info">
                    <div class="balance-value" id="userCoins">0</div>
                    <div class="balance-label">ุนููุงุชู ุงูุญุงููุฉ</div>
                </div>
            </div>
            <button class="buy-coins-btn" onclick="showBuyCoinsModal()">
                <span>+</span> ุดุฑุงุก ุนููุงุช
            </button>
        </div>

        <!-- Coins History -->
        <div class="section-header" style="margin: 24px 0 16px;">
            <h3>ุณุฌู ุงูุนููุงุช</h3>
        </div>
        <div id="coinsHistoryList" class="coins-history-container">
            <!-- Coins history will be loaded here -->
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-item active" onclick="showHome()">
            <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
            </svg>
            <span class="nav-label">ุงูุฑุฆูุณูุฉ</span>
        </button>
        <button class="nav-item" onclick="showPosts()">
            <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"/>
            </svg>
            <span class="nav-label">ุงูุฃุฎุจุงุฑ</span>
        </button>
        <button class="nav-item center" onclick="openBookingModal()">
            <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
            </svg>
        </button>
        <button class="nav-item" onclick="showCoins()">
            <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <span class="nav-label">ุงูุนููุงุช</span>
        </button>
        <button class="nav-item" onclick="showAccount()">
            <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
            </svg>
            <span class="nav-label">ุญุณุงุจู</span>
        </button>
    </nav>

    <!-- Booking Modal -->
    <div id="bookingModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">๐ ุญุฌุฒ ููุนุฏ ุฌุฏูุฏ</h2>
                <button class="close-btn" onclick="closeBookingModal()">&times;</button>
            </div>
            <form id="bookingForm">
                <div class="form-group">
                    <label class="form-label">ุงุฎุชุฑ ุงูุฎุฏูุงุช (ุงุถุบุท ุนูู ุงูุฎุฏูุฉ ูุงุฎุชูุงุฑูุง) *</label>
                    <div id="bookingServicesList" class="booking-services-grid"></div>
                    <small style="color: var(--text-secondary); display: block; margin-top: 8px;">ููููู ุงุฎุชูุงุฑ ุนุฏุฉ ุฎุฏูุงุช</small>
                </div>

                <div id="selectedServices" class="booking-summary" style="display: none;">
                    <div class="summary-content">
                        <div class="summary-row">
                            <span class="summary-label">ุนุฏุฏ ุงูุฎุฏูุงุช:</span>
                            <strong id="servicesCount">0</strong>
                        </div>
                        <div class="summary-row">
                            <span class="summary-label">ุงููุฏุฉ ุงูุฅุฌูุงููุฉ:</span>
                            <strong id="totalDuration">0 ุฏูููุฉ</strong>
                        </div>
                        <div class="summary-row total-price-row">
                            <span class="summary-label">ุงููุฌููุน:</span>
                            <strong id="totalPrice">0 ุฏุฌ</strong>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">ุงุฎุชุฑ ุงูุญูุงู *</label>
                    <select id="employeeSelect" class="form-select" required>
                        <option value="">-- ุงุฎุชุฑ ุงูุญูุงู --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">ุงูุชุงุฑูุฎ *</label>
                    <input type="date" id="appointmentDate" class="form-input" required onchange="loadAvailableSlots()" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
                </div>

                <div class="form-group">
                    <label class="form-label">ุงูููุช *</label>
                    <input type="time" id="appointmentTime" class="form-input" required style="font-size: 16px; padding: 14px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
                </div>

                <div class="form-group">
                    <label class="form-label">ุงูุฃููุงุช ุงููุชุงุญุฉ (ุงุฎุชูุงุฑู)</label>
                    <div id="timeSlots" class="time-slots">
                        <div class="working-hours-info">
                            <div class="working-hours-header">
                                <span class="hours-icon">๐</span>
                                <h4>ุฃููุงุช ุงูุนูู</h4>
                            </div>
                            <div class="working-hours-grid">
                                <div class="working-shift morning-shift">
                                    <div class="shift-icon">๐</div>
                                    <div class="shift-details">
                                        <span class="shift-label">ุงููุชุฑุฉ ุงูุตุจุงุญูุฉ</span>
                                        <span class="shift-time">10:00 ุต - 2:00 ู</span>
                                    </div>
                                </div>
                                <div class="working-shift evening-shift">
                                    <div class="shift-icon">๐</div>
                                    <div class="shift-details">
                                        <span class="shift-label">ุงููุชุฑุฉ ุงููุณุงุฆูุฉ</span>
                                        <span class="shift-time">4:30 ู - 9:00 ู</span>
                                    </div>
                                </div>
                            </div>
                            <div class="restricted-time-notice">
                                <div class="notice-icon">โ๏ธ</div>
                                <div class="notice-content">
                                    <div class="notice-title">ุฃููุงุช ุบูุฑ ูุชุงุญุฉ</div>
                                    <div class="notice-time">5:40 ู - 9:00 ู</div>
                                    <div class="notice-reason">ุจุณุจุจ ุถุบุท ุงูุนูู</div>
                                    <div class="notice-action">
                                        <span class="vip-badge-small">VIP</span>
                                        <span class="notice-text">ุฃู ุฏูุน 50 ุฏุฌ</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">ููุงุญุธุงุช ุฅุถุงููุฉ</label>
                    <textarea id="appointmentNotes" rows="3" placeholder="ุฃู ููุงุญุธุงุช ุฎุงุตุฉุ" style="resize: vertical;"></textarea>
                </div>

                <button type="submit" class="book-now-btn" id="confirmBookingBtn">
                    ุชุฃููุฏ ุงูุญุฌุฒ
                </button>
            </form>
        </div>
    </div>

    <!-- Notifications Page -->
    <div id="notificationsPage" class="page-container hidden">
        <div class="page-header">
            <button class="back-btn-page" onclick="goBackToHome()">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
            </button>
            <h1 class="page-title">๐ ุงูุฅุดุนุงุฑุงุช</h1>
        </div>

        <div class="notifications-container" id="notificationsList">
            <!-- Notifications will be loaded here -->
        </div>

        <div class="empty-notifications hidden">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="80" height="80">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
            </svg>
            <h3>ูุง ุชูุฌุฏ ุฅุดุนุงุฑุงุช</h3>
            <p>ุณูุนููู ุจุฃู ุชุญุฏูุซุงุช ูููุฉ</p>
        </div>
    </div>

    <!-- Booking History Page -->
    <div id="bookingHistoryPage" class="page-container hidden">
        <div class="page-header">
            <button class="back-btn-page" onclick="goBackToHome()">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
            </button>
            <h1 class="page-title">๐ ุณุฌู ุงูุญุฌูุฒุงุช</h1>
        </div>

        <div class="booking-tabs">
            <button class="booking-tab active" onclick="filterBookings('all')">ุงููู</button>
            <button class="booking-tab" onclick="filterBookings('upcoming')">ุงููุงุฏูุฉ</button>
            <button class="booking-tab" onclick="filterBookings('completed')">ุงูููุชููุฉ</button>
            <button class="booking-tab" onclick="filterBookings('cancelled')">ุงูููุบูุฉ</button>
        </div>

        <div id="bookingsList" class="bookings-container">
            <!-- Bookings will be loaded here -->
        </div>

        <div class="empty-bookings hidden">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="80" height="80">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <h3>ูุง ุชูุฌุฏ ุญุฌูุฒุงุช</h3>
            <p>ุงุจุฏุฃ ุจุญุฌุฒ ููุนุฏู ุงูุฃูู ุงูุขู</p>
            <button class="book-now-btn" onclick="openBookingModal()">ุงุญุฌุฒ ุงูุขู</button>
        </div>
    </div>

    <!-- Edit Profile Page -->
    <div id="editProfilePage" class="page-container hidden">
        <div class="page-header">
            <button class="back-btn-page" onclick="showAccount()">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
            </button>
            <h1 class="page-title">โ๏ธ ุชุนุฏูู ุงูููู ุงูุดุฎุตู</h1>
        </div>

        <form id="editProfileForm" class="edit-profile-form">
            <div class="form-group">
                <label class="form-label">ุงูุงุณู ุงููุงูู *</label>
                <input type="text" id="editName" class="form-input" required>
            </div>

            <div class="form-group">
                <label class="form-label">ุฑูู ุงููุงุชู *</label>
                <input type="tel" id="editPhone" class="form-input" required>
            </div>

            <div class="form-group">
                <label class="form-label">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                <input type="email" id="editEmail" class="form-input">
            </div>

            <button type="submit" class="book-now-btn">
                ุญูุธ ุงูุชุบููุฑุงุช
            </button>
        </form>
    </div>

    <!-- Account Page -->
    <div id="accountPage" class="page-container hidden">
        <div class="account-header">
            <div class="profile-section">
                <div class="profile-avatar">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&h=200&fit=crop&crop=faces" alt="Profile" id="profileImage">
                </div>
                <h2 class="profile-name" id="profileName"></h2>
                <p class="profile-email" id="profileEmail"></p>
                <p class="profile-phone" id="profilePhone" style="color: #999; font-size: 14px; margin-top: 4px;"></p>
            </div>
        </div>

        <!-- Account Menu -->
        <div class="account-menu">
            <div class="menu-section">
                <h3 class="menu-section-title">ุงูุญุณุงุจ</h3>
                
                <button class="menu-item" onclick="editProfile()">
                    <div class="menu-item-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                        </svg>
                    </div>
                    <div class="menu-item-content">
                        <span class="menu-item-title">ุชุนุฏูู ุงูููู ุงูุดุฎุตู</span>
                        <span class="menu-item-subtitle">ุงูุงุณูุ ุงูุจุฑูุฏุ ุฑูู ุงููุงุชู</span>
                    </div>
                    <svg class="menu-item-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                </button>

                <button class="menu-item" onclick="showBookingHistory()">
                    <div class="menu-item-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                    <div class="menu-item-content">
                        <span class="menu-item-title">ุณุฌู ุงูุญุฌูุฒุงุช</span>
                        <span class="menu-item-subtitle">ุนุฑุถ ุฌููุน ุญุฌูุฒุงุชู ุงูุณุงุจูุฉ</span>
                    </div>
                    <svg class="menu-item-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                </button>
            </div>

            <div class="menu-section">
                <h3 class="menu-section-title">ุงูุฅุนุฏุงุฏุงุช</h3>
                
                <button class="menu-item" onclick="showNotificationSettings()">
                    <div class="menu-item-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
                        </svg>
                    </div>
                    <div class="menu-item-content">
                        <span class="menu-item-title">ุงูุฅุดุนุงุฑุงุช</span>
                        <span class="menu-item-subtitle">ุฅุฏุงุฑุฉ ุฅุดุนุงุฑุงุช ุงูุชุทุจูู</span>
                    </div>
                    <svg class="menu-item-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                </button>
            </div>

            <button class="logout-btn" onclick="logout()">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                </svg>
                ุชุณุฌูู ุงูุฎุฑูุฌ
            </button>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification"></div>

    <!-- AI Assistant Floating Icon - Wassim -->
    <div id="aiFloatingIcon" class="ai-floating-icon" title="ุงุณุฃู wassim - ุงููุณุงุนุฏ ุงูุฐูู" style="display: flex !important; visibility: visible !important; opacity: 1 !important;">
        <div class="wassim-avatar-container">
            <div class="wassim-avatar-circle" id="wassimAvatarCircle" style="background-image: url('/nassim/wassim-logo.jpg');">
                <div class="wassim-initial" id="wassimInitial">W</div>
            </div>
        </div>
        <input type="file" id="wassimImageUpload" accept="image/*" style="display: none;" onchange="handleWassimImageUpload(event)">
    </div>

    <!-- AI Chat Modal -->
    <div id="aiChatModal" class="ai-chat-modal hidden">
        <div class="ai-chat-header">
            <div class="ai-chat-header-content">
                <div class="ai-chat-icon">๐ค</div>
                <div class="ai-chat-header-text">
                    <h3>ุงููุณุงุนุฏ ุงูุฐูู</h3>
                    <p>Nassim Coiffeur</p>
                </div>
            </div>
            <button class="ai-chat-close" onclick="closeAIChat()">ร</button>
        </div>

        <div class="ai-chat-messages" id="aiChatMessages">
            <div class="ai-welcome-message">
                <div class="ai-welcome-icon">๐ค</div>
                <h3>ูุฑุญุจุงู ุจู!</h3>
                <p>ุฃูุง ูุณุงุนุฏู ุงูุฐูู ูู ุตุงููู <strong>Nassim Coiffeur</strong>.<br>
                ุงุณุฃููู ุนู ุฃู ุฎุฏูุฉุ ุณุนุฑุ ุฃู ุงุญุฌุฒ ููุนุฏู ุจุณูููุฉ!</p>
            </div>
        </div>

        <div class="ai-typing-indicator" id="aiTypingIndicator">
            <div class="ai-typing-dots">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>

        <div class="ai-chat-input-container">
            <div class="ai-chat-input-wrapper">
                <textarea 
                    id="aiChatInput" 
                    class="ai-chat-input" 
                    placeholder="ุงูุชุจ ุณุคุงูู ููุง..."
                    rows="1"
                ></textarea>
                <button class="ai-send-button" id="aiSendButton" onclick="sendAIMessage()">
                    โค
                </button>
            </div>
        </div>
    </div>

    <!-- AI Stylist Modal -->
    <div id="aiStylistModal" class="ai-stylist-modal" style="display: none;">
        <div class="ai-stylist-content">
            <div class="ai-stylist-header">
                <button class="close-ai-btn" onclick="closeAIStylist()">โ</button>
                <h2>๐ค ูุตูู AI ููุญูุงูุฉ</h2>
                <p>ุงูุชุดู ุฃูุถู ุชุตูููุฉ ุดุนุฑ ุชูุงุณุจู ุจุงุณุชุฎุฏุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู</p>
                <div class="ai-demo-badge">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                    </svg>
                    <span>Powered by Google Gemini AI</span>
                </div>
            </div>

            <div class="ai-stylist-body">
                <!-- Upload Section -->
                <div class="ai-upload-section">
                    <div class="upload-box" id="uploadBox">
                        <input type="file" id="aiImageInput" accept="image/*" onchange="handleAIImageUpload(event)" style="display: none;">
                        <label for="aiImageInput" class="upload-label">
                            <svg width="48" height="48" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                            </svg>
                            <span>ุงููุฑ ูุชุญููู ุตูุฑุชู</span>
                            <small>ุฃู ุงุณุญุจ ุงูุตูุฑุฉ ููุง</small>
                        </label>
                        <div id="imagePreviewContainer" style="display: none;">
                            <img id="imagePreview" class="ai-image-preview" alt="Preview">
                            <button class="remove-image-btn" onclick="removeAIImage()">โ</button>
                        </div>
                    </div>
                </div>

                <!-- Style Selection -->
                <div class="ai-style-section">
                    <h3>ุงุฎุชุฑ ููุน ุงูุชุตูููุฉ ุงูููุถูุฉ</h3>
                    <div class="style-options">
                        <label class="style-option">
                            <input type="radio" name="hairStyle" value="classic" checked>
                            <span class="style-card">
                                <span class="style-icon">๐</span>
                                <span>ููุงุณููู</span>
                            </span>
                        </label>
                        <label class="style-option">
                            <input type="radio" name="hairStyle" value="modern">
                            <span class="style-card">
                                <span class="style-icon">โจ</span>
                                <span>ุนุตุฑู</span>
                            </span>
                        </label>
                        <label class="style-option">
                            <input type="radio" name="hairStyle" value="fade">
                            <span class="style-card">
                                <span class="style-icon">๐ฅ</span>
                                <span>ููุฏ</span>
                            </span>
                        </label>
                        <label class="style-option">
                            <input type="radio" name="hairStyle" value="beard">
                            <span class="style-card">
                                <span class="style-icon">๐ง</span>
                                <span>ูุญูุฉ</span>
                            </span>
                        </label>
                    </div>
                </div>

                <!-- Generate Button -->
                <button class="ai-generate-btn" onclick="generateAIHairstyle()" id="generateBtn">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                    </svg>
                    <span>ุชูููุฏ ุงูุชุตูููุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู</span>
                </button>

                <!-- Loading State -->
                <div id="aiLoadingState" class="ai-loading-state" style="display: none;">
                    <div class="loading-spinner"></div>
                    <p>ุฌุงุฑู ุชุญุณูู ุตูุฑุชู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู...</p>
                    <small>ุชุทุจูู ุงูููุงุชุฑ ูุงูุชุญุณููุงุช ุงููุฎุตุตุฉ</small>
                </div>

                <!-- Results Section -->
                <div id="aiResultsSection" class="ai-results-section" style="display: none;">
                    <div class="ai-results-container">
                        <!-- Suggestions will be dynamically inserted here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/public/nassim/nassim.js"></script>
    <script src="/nassim/ai-wassim.js"></script>
    <script src="/nassim/ai-stylist.js"></script>
</body>
</html>
