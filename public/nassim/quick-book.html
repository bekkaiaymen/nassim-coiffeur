<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#FDB714">
    <title>✂️ Nassim Coiffeur - حجز سريع</title>
    <link rel="icon" type="image/x-icon" href="/nassim/logo.jpg">
    <link rel="stylesheet" href="/nassim/quick-book.css">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-content">
            <img src="/nassim/logo.jpg" alt="Nassim Logo" class="header-logo">
            <h1 class="header-title">Nassim Coiffeur</h1>
            <p class="header-subtitle">حجز سريع</p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Welcome Section -->
        <div class="welcome-section" id="welcomeSection">
            <div class="welcome-icon">✂️</div>
            <h2 class="welcome-title">مرحباً بك في ناسيم كوافير</h2>
            <p class="welcome-text">احجز موعدك الآن بسهولة وسرعة</p>
            <button class="btn-primary-large" onclick="showLoginForm()">
                ابدأ الحجز
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                </svg>
            </button>
        </div>

        <!-- Login/Register Form -->
        <div class="form-section" id="loginSection" style="display: none;">
            <div class="form-header">
                <button class="back-btn" onclick="showWelcome()">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                </button>
                <h2 class="form-title">معلوماتك الشخصية</h2>
            </div>

            <form id="customerForm" class="booking-form">
                <div class="form-group">
                    <label class="form-label">الاسم الكامل</label>
                    <input type="text" id="customerName" class="form-input" placeholder="أدخل اسمك الكامل" required>
                </div>

                <div class="form-group">
                    <label class="form-label">رقم الهاتف</label>
                    <input type="tel" id="customerPhone" class="form-input" placeholder="05XXXXXXXX" required pattern="[0-9]{10}" maxlength="10">
                </div>

                <div class="form-group">
                    <label class="form-label">كلمة المرور</label>
                    <input type="password" id="customerPassword" class="form-input" placeholder="أدخل كلمة مرور قوية" required minlength="6">
                    <small class="form-hint">على الأقل 6 أحرف</small>
                </div>

                <button type="submit" class="btn-primary-large">
                    متابعة للحجز
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                    </svg>
                </button>
            </form>
        </div>

        <!-- Booking Form -->
        <div class="form-section" id="bookingSection" style="display: none;">
            <div class="form-header">
                <button class="back-btn" onclick="showLoginForm()">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                </button>
                <h2 class="form-title">احجز موعدك</h2>
            </div>

            <div class="customer-info-card" id="customerInfoCard">
                <!-- Will be populated by JS -->
            </div>

            <form id="appointmentForm" class="booking-form">
                <div class="form-group">
                    <label class="form-label">اختر التاريخ</label>
                    <input type="date" id="appointmentDate" class="form-input" required>
                </div>

                <div class="form-group">
                    <label class="form-label">اختر الحلاق</label>
                    <select id="employeeSelect" class="form-input" required>
                        <option value="">-- اختر الحلاق --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">اختر الخدمة</label>
                    <select id="serviceSelect" class="form-input" required>
                        <option value="">-- اختر الخدمة --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">الوقت المتاح</label>
                    <div id="timeSlotsContainer" class="time-slots-container">
                        <p class="loading-text">اختر التاريخ والحلاق لعرض الأوقات المتاحة</p>
                    </div>
                </div>

                <button type="submit" class="btn-primary-large" id="confirmBookingBtn" disabled>
                    تأكيد الحجز
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                </button>
            </form>
        </div>

        <!-- Success Section -->
        <div class="success-section" id="successSection" style="display: none;">
            <div class="success-icon">✅</div>
            <h2 class="success-title">تم الحجز بنجاح!</h2>
            <div class="appointment-details" id="appointmentDetails">
                <!-- Will be populated by JS -->
            </div>
            <button class="btn-primary-large" onclick="location.reload()">
                حجز موعد جديد
            </button>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-spinner"></div>
        <p class="loading-text">جاري المعالجة...</p>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <script src="/nassim/quick-book.js"></script>
</body>
</html>
