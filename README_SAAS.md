# SmartBiz - ููุตุฉ SaaS ูุฅุฏุงุฑุฉ ุงูุฃุนูุงู ๐

## ูุธุงู ูุชุนุฏุฏ ุงููุญูุงุช ูุน ุงุดุชุฑุงูุงุช ุดูุฑูุฉ ูุจุฑูุงูุฌ ููุงุก ูุงุจู ููุชุฎุตูุต

### ๐ฏ ูุธุฑุฉ ุนุงูุฉ

SmartBiz ูู ููุตุฉ SaaS ุดุงููุฉ ูุฅุฏุงุฑุฉ ุงูุฃุนูุงู ุงูุตุบูุฑุฉ ูุงููุชูุณุทุฉ. ุชุชูุญ ูููุญูุงุช (ุตุงูููุงุช ุญูุงูุฉุ ูุทุงุนูุ ูุฑุดุ ุนูุงุฏุงุช) ุงูุงุดุชุฑุงู ุดูุฑูุงู ูุงูุงุณุชูุงุฏุฉ ูู:

- **ุฅุฏุงุฑุฉ ุงูููุงุนูุฏ** ูุน ุชูุจููุงุช ุชููุงุฆูุฉ
- **ุงูููุงุชูุฑ ูุงููุฏููุนุงุช** ูุน ุชูุงุฑูุฑ ูุงููุฉ
- **ุจุฑูุงูุฌ ุงูููุงุก** ูุงุจู ููุชุฎุตูุต ุจุงููุงูู
- **ุฐูุงุก ุงุตุทูุงุนู** ููุฑุฏ ุนูู ุงุณุชูุณุงุฑุงุช ุงูุนููุงุก
- **ูุงุฌูุงุช ูููุตูุฉ** ููุงูู ุงูููุตุฉุ ุฃุตุญุงุจ ุงููุญูุงุชุ ูุงูุนููุงุก ุงูููุงุฆููู

---

## ๐๏ธ ุงูุจููุฉ ุงููุนูุงุฑูุฉ

### ุงููุธุงู ูุชุนุฏุฏ ุงููุญูุงุช (Multi-Tenant)

#### 1๏ธโฃ ูุงุฌูุฉ Super Admin (ูุงูู ุงูููุตุฉ)
- **ุงูุฑุงุจุท**: `admin.html`
- **ุงูุตูุงุญูุงุช**:
  - ุนุฑุถ ุฌููุน ุงููุญูุงุช ุงููุณุฌูุฉ
  - ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช ูุงูุจุงูุงุช
  - ุชูุนูู/ุชุนุทูู ุงููุญูุงุช
  - ูุดุงูุฏุฉ ุงูุฅูุฑุงุฏุงุช ูุงูุฅุญุตุงุฆูุงุช
  - ุฅูุดุงุก ูุชุนุฏูู ุงูุจุงูุงุช

#### 2๏ธโฃ ูุงุฌูุฉ Tenant Owner (ุตุงุญุจ ุงููุญู)
- **ุงูุฑุงุจุท**: `owner.html` (ููุฏ ุงูุฅูุดุงุก)
- **ุงูุตูุงุญูุงุช**:
  - ุฅุฏุงุฑุฉ ุงูููุงุนูุฏ ูุงูุนููุงุก
  - ุฅุตุฏุงุฑ ุงูููุงุชูุฑ
  - ุฅุฏุงุฑุฉ ุงูููุธููู ูุงูุฎุฏูุงุช
  - **ุชุฎุตูุต ุจุฑูุงูุฌ ุงูููุงุก** (ููุงุทุ ูุณุชููุงุชุ ููุงูุขุช)
  - ูุดุงูุฏุฉ ุงูุชูุงุฑูุฑ ุงููุงููุฉ
  - ุชุฑููุฉ ุงูุงุดุชุฑุงู

#### 3๏ธโฃ ูุงุฌูุฉ ุงูุนููู ุงูููุงุฆู
- **ุงูุฑุงุจุท**: `customer.html` (ููุฏ ุงูุฅูุดุงุก)
- **ุงูุตูุงุญูุงุช**:
  - ุญุฌุฒ ุงูููุงุนูุฏ
  - ุนุฑุถ ููุงุท ุงูููุงุก
  - ุงุณุชุจุฏุงู ุงูููุงูุขุช
  - ุงูุชูุงุตู ูุน ุงูุฐูุงุก ุงูุงุตุทูุงุนู

---

## ๐ฆ ุงูุจุงูุงุช ูุงูุงุดุชุฑุงูุงุช

### ุงูุจุงูุงุช ุงููุชุงุญุฉ

| ุงูุจุงูุฉ | ุงูุณุนุฑ ุงูุดูุฑู | ุงูุณุนุฑ ุงูุณููู | ุงููุชุฑุฉ ุงูุชุฌุฑูุจูุฉ | ุงูููุงุนูุฏ | ุงูููุธููู | ุงูููุงุก | AI |
|-------|-------------|--------------|-----------------|----------|---------|--------|-----|
| **ูุฌุงููุฉ** | 0 ุฑ.ุณ | 0 ุฑ.ุณ | - | 50 | 1 | โ | โ |
| **ุฃุณุงุณูุฉ** | 99 ุฑ.ุณ | 999 ุฑ.ุณ | 14 ููู | 500 | 5 | โ | โ |
| **ุงุญุชุฑุงููุฉ** | 249 ุฑ.ุณ | 2,490 ุฑ.ุณ | 14 ููู | โ | 20 | โ | โ |
| **ุงููุคุณุณุงุช** | 599 ุฑ.ุณ | 5,990 ุฑ.ุณ | 30 ููู | โ | โ | โ | โ |

---

## ๐ ุจุฑูุงูุฌ ุงูููุงุก ุงููุงุจู ููุชุฎุตูุต

### ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

1. **ููุงุท ูุฑูุฉ**: ูุญุฏุฏ ุตุงุญุจ ุงููุญู ุนุฏุฏ ุงูููุงุท ููู ุฑูุงู
2. **ูุณุชููุงุช ุนุถููุฉ**: ุจุฑููุฒูุ ูุถูุ ุฐูุจูุ ุจูุงุชููู (ูุงุจูุฉ ููุชุฎุตูุต)
3. **ููุงุนุฏ ูุชุนุฏุฏุฉ ููุณุจ ุงูููุงุท**:
   - ุนูุฏ ุงูุดุฑุงุก
   - ุนูุฏ ุงูุฒูุงุฑุฉ
   - ุงูุฅุญุงูุฉ
   - ุนูุฏ ุงููููุงุฏ
   - ููุงุนุฏ ูุฎุตุตุฉ
4. **ููุงูุขุช ูุงุจูุฉ ููุฅูุดุงุก**: ุฎุตููุงุชุ ุฎุฏูุงุช ูุฌุงููุฉุ ูุฏุงูุง
5. **ุชุงุฑูุฎ ูุงูู**: ุณุฌู ุฌููุน ุงููุนุงููุงุช

---

## ๐ ุงูุชุซุจูุช ูุงูุชุดุบูู

### ุงููุชุทูุจุงุช

- Node.js 16+
- MongoDB Atlas (ุฃู MongoDB ูุญูู)
- ูุชุตูุญ ุญุฏูุซ

### ุฎุทูุงุช ุงูุชุซุจูุช

```bash
# 1. ุชุซุจูุช ุงูููุชุจุงุช
npm install

# 2. ุฅูุดุงุก ุงูุจุงูุงุช ูุญุณุงุจ Super Admin
npm run setup

# 3. ุชุดุบูู ุงูุฎุงุฏู
npm start
```

### ุงูุฅุนุฏุงุฏุงุช (ููู .env)

```env
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/smartbiz?...
JWT_SECRET=your_secret_key_here
PORT=3000
NODE_ENV=development
```

---

## ๐ ุงูู APIs ุงูุฑุฆูุณูุฉ

### ุงูุชุณุฌูู ูุงููุญูุงุช

```
POST   /api/tenants/register          # ุชุณุฌูู ูุญู ุฌุฏูุฏ
GET    /api/tenants/me                # ูุนูููุงุช ุงููุญู ุงูุญุงูู
PUT    /api/tenants/me                # ุชุญุฏูุซ ุจูุงูุงุช ุงููุญู
GET    /api/tenants/usage             # ุฅุญุตุงุฆูุงุช ุงูุงุณุชุฎุฏุงู
GET    /api/tenants                   # ุฌููุน ุงููุญูุงุช (Super Admin)
PUT    /api/tenants/:id/status        # ุชูุนูู/ุชุนุทูู ูุญู (Super Admin)
```

### ุงูุงุดุชุฑุงูุงุช

```
GET    /api/subscriptions/plans       # ูุงุฆูุฉ ุงูุจุงูุงุช
GET    /api/subscriptions/current     # ุงูุงุดุชุฑุงู ุงูุญุงูู
POST   /api/subscriptions/upgrade     # ุชุฑููุฉ ุงูุงุดุชุฑุงู
POST   /api/subscriptions/cancel      # ุฅูุบุงุก ุงูุงุดุชุฑุงู
GET    /api/subscriptions/history     # ุณุฌู ุงูููุงุชูุฑ
GET    /api/subscriptions/revenue     # ุงูุฅูุฑุงุฏุงุช (Super Admin)
```

### ุจุฑูุงูุฌ ุงูููุงุก

```
GET    /api/loyalty/settings                    # ุฅุนุฏุงุฏุงุช ุงูููุงุก
PUT    /api/loyalty/settings                    # ุชุญุฏูุซ ุงูุฅุนุฏุงุฏุงุช
GET    /api/loyalty/customer/:id/points         # ููุงุท ุนููู
POST   /api/loyalty/customer/:id/points/add     # ุฅุถุงูุฉ ููุงุท
POST   /api/loyalty/customer/:id/points/redeem  # ุงุณุชุฎุฏุงู ููุงุท
GET    /api/loyalty/rules                       # ููุงุนุฏ ูุณุจ ุงูููุงุท
POST   /api/loyalty/rules                       # ุฅูุดุงุก ูุงุนุฏุฉ
GET    /api/loyalty/rewards                     # ุงูููุงูุขุช
POST   /api/loyalty/rewards                     # ุฅูุดุงุก ููุงูุฃุฉ
GET    /api/loyalty/leaderboard                 # ุฃูุถู ุงูุนููุงุก
```

---

## ๐ ูุธุงู ุงูุตูุงุญูุงุช

### ุงูุฃุฏูุงุฑ (Roles)

1. **superadmin**: ูุงูู ุงูููุตุฉุ ุตูุงุญูุงุช ูุงููุฉ
2. **tenant_owner**: ุตุงุญุจ ุงููุญูุ ูุฏูุฑ ูุญูู ููุท
3. **employee**: ููุธูุ ุตูุงุญูุงุช ูุญุฏูุฏุฉ
4. **customer**: ุนููู ููุงุฆู

### Middleware ููุญูุงูุฉ

- `extractTenant`: ุงุณุชุฎุฑุงุฌ ุงููุญู ูู ุงูุทูุจ
- `checkSubscription`: ุงูุชุญูู ูู ุตูุงุญูุฉ ุงูุงุดุชุฑุงู
- `checkLimits`: ุงูุชุญูู ูู ุญุฏูุฏ ุงูุงุณุชุฎุฏุงู
- `checkFeature`: ุงูุชุญูู ูู ุงูููุฒุงุช ุงููุชุงุญุฉ
- `requireSuperAdmin`: ูุชุทูุจ ุตูุงุญูุงุช Super Admin
- `requireTenantOwner`: ูุชุทูุจ ุฃู ูููู ุงููุณุชุฎุฏู ุตุงุญุจ ุงููุญู

---

## ๐๏ธ Models (ูุงุนุฏุฉ ุงูุจูุงูุงุช)

### Models ุงูุฌุฏูุฏุฉ (Multi-Tenant)

1. **Tenant**: ุจูุงูุงุช ุงููุญู (ุงุณูุ ููุน ุงููุดุงุทุ ุงูุงุดุชุฑุงูุ ุงูุญุฏูุฏุ ุจุฑูุงูุฌ ุงูููุงุก)
2. **SubscriptionPlan**: ุงูุจุงูุงุช ุงููุชุงุญุฉ
3. **Subscription**: ุงุดุชุฑุงูุงุช ุงููุญูุงุช
4. **LoyaltyPoints**: ููุงุท ุงูุนููุงุก
5. **LoyaltyRule**: ููุงุนุฏ ูุณุจ ุงูููุงุท
6. **Reward**: ุงูููุงูุขุช ุงููุงุจูุฉ ููุงุณุชุจุฏุงู

### Models ุงููุญุฏุซุฉ

- **User**: ุฃุถูู `tenant` ู `role: superadmin/tenant_owner`
- **Customer**: ุฃุถูู `tenant`
- **Appointment**: ุฃุถูู `tenant`
- **Invoice**: ุฃุถูู `tenant`ุ ุฑูู ุงููุงุชูุฑุฉ ูุฑุชุจุท ุจุงููุญู
- **Service**: ุฃุถูู `tenant`

---

## ๐จ ุงููุงุฌูุงุช ุงูุฃูุงููุฉ

### ุงููููุงุช ุงูููุฌูุฏุฉ

1. **admin.html**: ููุญุฉ ุชุญูู Super Admin โ
2. **register.html**: ุชุณุฌูู ูุญู ุฌุฏูุฏ โ
3. **index.html**: ูุงุฌูุฉ ุงูุชุทุจูู ุงูุฃุตููุฉ (ุณุชูุญูู ูู Tenant Owner)
4. **owner.html**: ูุงุฌูุฉ ุตุงุญุจ ุงููุญู (ููุฏ ุงูุฅูุดุงุก)
5. **customer.html**: ูุงุฌูุฉ ุงูุนููู ุงูููุงุฆู (ููุฏ ุงูุฅูุดุงุก)

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุญุณุงุจ Super Admin ุงูุงูุชุฑุงุถู

ุจุนุฏ ุชุดุบูู `npm run setup`:

```
ุงูุจุฑูุฏ: admin@smartbiz.sa
ูููุฉ ุงููุฑูุฑ: Admin@123
```

**โ๏ธ ููุฑุฌู ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ููุฑุงู!**

### ุชุณุฌูู ูุญู ุชุฌุฑูุจู

1. ุงูุชุญ `http://localhost:3000/register.html`
2. ุงููุฃ ุงูุจูุงูุงุช ูุงุฎุชุฑ ุจุงูุฉ
3. ุณุชุญุตู ุนูู ูุชุฑุฉ ุชุฌุฑูุจูุฉ ูุฌุงููุฉ

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงูุชูุงุฑูุฑ

### ููู Super Admin

- ุฅุฌูุงูู ุงููุญูุงุช
- ุนุฏุฏ ุงูุงุดุชุฑุงูุงุช ุงููุดุทุฉ
- ุงููุญูุงุช ูู ุงููุชุฑุฉ ุงูุชุฌุฑูุจูุฉ
- ุงูุฅูุฑุงุฏุงุช ุงูุดูุฑูุฉ

### ูุตุงุญุจ ุงููุญู

- ุงุณุชุฎุฏุงู ุงูููุงุนูุฏ/ุงูุญุฏ ุงูุฃูุตู
- ุนุฏุฏ ุงูุนููุงุก
- ุนุฏุฏ ุงูููุธููู
- ุงููุจูุนุงุช ุงูููููุฉ/ุงูุฃุณุจูุนูุฉ/ุงูุดูุฑูุฉ
- ุฃูุถู ุงูุฎุฏูุงุช
- ุฃูุถู ุงูุนููุงุก ุญุณุจ ุงูููุงุท

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ูุง ุชู ุฅูุฌุงุฒู โ

- [x] ุชุญููู ุงููุธุงู ูู Multi-Tenant
- [x] ุฅูุดุงุก Models ููุงุดุชุฑุงูุงุช ูุงูููุงุก
- [x] Middleware ููุนุฒู ูุงูุญูุงูุฉ
- [x] APIs ูููุญูุงุช ูุงูุงุดุชุฑุงูุงุช ูุงูููุงุก
- [x] ููุญุฉ Super Admin
- [x] ุตูุญุฉ ุงูุชุณุฌูู
- [x] ูุธุงู ุงูุจุงูุงุช ูุงูุญุฏูุฏ

### ููุฏ ุงูุนูู ๐

- [ ] ููุญุฉ ุชุญูู Tenant Owner (owner.html)
- [ ] ูุงุฌูุฉ ุงูุนููู ุงูููุงุฆู (customer.html)
- [ ] ุชูุงูู ุงูุฏูุน (Stripe/PayPal/Moyasar)
- [ ] ูุธุงู Subdomain ููู ูุญู
- [ ] ุฅุดุนุงุฑุงุช ุงูุจุฑูุฏ/ุงููุงุชุณุงุจ
- [ ] ุงูุชูุงุฑูุฑ ุงููุชูุฏูุฉ

### ุงููุณุชูุจู ๐

- [ ] ุชุทุจูู ููุจุงูู (React Native)
- [ ] ุชุญุณููุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู
- [ ] ุชูุงูู ูุน WhatsApp Business API
- [ ] ูุธุงู ุงููุฑูุน ุงููุชุนุฏุฏุฉ
- [ ] Webhooks ููุชูุงูู ูุน ุฃูุธูุฉ ุฎุงุฑุฌูุฉ

---

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจุงููุณุงููุงุช! ูุฑุฌู:

1. ุนูู Fork ูููุดุฑูุน
2. ุฅูุดุงุก ูุฑุน ููููุฒุฉ ุงูุฌุฏูุฏุฉ
3. Commit ุงูุชุบููุฑุงุช
4. Push ูุฅุฑุณุงู Pull Request

---

## ๐ ุงูุชุฑุฎูุต

MIT License - ูููู ุงุณุชุฎุฏุงู ุงููุดุฑูุน ุชุฌุงุฑูุงู.

---

## ๐ ุงูุฏุนู

ููุฃุณุฆูุฉ ูุงูุฏุนู ุงูููู:
- ุงูุจุฑูุฏ: support@smartbiz.sa
- ุงููุงุชุณุงุจ: +966 5X XXX XXXX

---

## ๐ ุดูุฑ ูุชูุฏูุฑ

ุจููู ูุฐุง ุงููุดุฑูุน ุจุงุณุชุฎุฏุงู:
- Node.js + Express
- MongoDB + Mongoose
- JWT Authentication
- Vanilla JavaScript (Frontend)

**ุตููู ูุทููุฑ ุจู โค๏ธ ูู ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ**
